<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link rel="stylesheet" href="styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <title>Base Apparel coming soon page</title>
  </head>
  <body>
    <main>
      <div class="left">
        <header>
          <img class="brandlogo" src="./images/logo.svg" alt="logo" />
        </header>
        <article>
          <p class="textone">WE'RE</p>
          <h1 class="texttwo">COMING</h1>
          <h1 class="textthree">SOON</h1>
          <p class="para">
            Hello fellow shoppers! We're currently building our new fashion
            store. Add your email below to stay up-to-date with announcements
            and our launch deals.
          </p>
          <form class="form">
            <div class="input-container">
              <input class="einput" type="text" id="email" />
              <label for="email" class="input-label">Email Address</label>
              <img class="err" src="./images/icon-error.svg" alt="err" />
              <button class="ebtn" type="submit">
                <img class="arrow" src="./images/icon-arrow.svg" alt="arr" />
              </button>
              <p class="errormsg">Please provide a valid email</p>
            </div>
          </form>
        </article>
      </div>
      <div class="right"></div>
    </main>
    <script>
      const input = document.querySelector("#email");
      const label = document.querySelector(".input-label");
      const errorMsg = document.querySelector(".errormsg");
      const errorIcon = document.querySelector(".err");
      errorIcon.style.display = "none";

      document.querySelector(".form").addEventListener("submit", (e) => {
        e.preventDefault();
        const email = input.value;
        errorMsg.style.display = "none";
        errorIcon.style.display = "none";
        if (email === "") {
          errorMsg.style.display = "block";
          errorIcon.style.display = "block";
        } else if (
          !email.match(
            /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/
          )
        ) {
          errorMsg.style.display = "block";
          errorIcon.style.display = "block";
        } else {
          alert("Successfully submitted!");
        }
      });

      input.addEventListener("input", () => {
        const email = input.value;
        if (email.trim() !== "") {
          label.style.display = "none";
        } else {
          label.style.display = "block";
        }
        if (
          email.match(
            /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/
          )
        ) {
          errorMsg.style.display = "none";
          errorIcon.style.display = "none";
        }
      });
    </script>
  </body>
</html>
